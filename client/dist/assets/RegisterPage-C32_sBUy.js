import{r as i,aj as A,ak as W,j as e,a2 as x,al as L,as as T,at as q}from"./index-Cz5SRk5r.js";import{u as D,d as E}from"./AuthApi-Bbil18jc.js";import{C as F}from"./Container-DfnuPG-w.js";import{a as P,A as k,L as h}from"./createSvgIcon-DdPh005H.js";import{A as B}from"./Avatar-BOaUf-Up.js";import{e as c,V as R,a6 as $}from"./Select-CtpZzt5O.js";import{G as a}from"./Grid-DUyOgpPE.js";import{T as n}from"./TextField-Btlbh8Pf.js";import"./IconButton-VGHipAn1.js";function G(l){return e.jsxs(c,{variant:"body2",color:"text.secondary",align:"center",...l,children:["Copyright Â© ",e.jsx(h,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",new Date().getFullYear(),"."]})}function K(){const[l,f]=i.useState(""),[d,g]=i.useState(""),[p,j]=i.useState(""),[m,v]=i.useState(""),[u,b]=i.useState(""),[t,r]=i.useState({visible:!1,color:"",message:""}),w=A(),[y]=D(),C=W(),S=async s=>{s.preventDefault();const N=`${l} ${d}`;if(m!==u)r({...t,visible:!0,color:"error",message:"password & confirmpassword should be same!!!"}),setTimeout(()=>{r({...t,visible:!1})},3e3);else try{const o=await y({name:N,email:p,password:m,passwordConfirm:u}).unwrap();C(q({...o})),r({...t,visible:!0,color:"success",message:"successfully created your Account"}),setTimeout(()=>{r({...t,visible:!1}),w("/")},3e3)}catch(o){throw console.log(o),r({...t,visible:!0,color:"error",message:o.data.message}),setTimeout(()=>r({...t,visible:!1}),5e3),Error(o)}};return e.jsxs(F,{component:"main",maxWidth:"xs",children:[e.jsx(P,{}),t.visible&&e.jsx(k,{variant:"filled",severity:t.color,sx:{mt:3},children:t.message}),e.jsxs(x,{sx:{marginTop:t.visible?0:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(B,{sx:{m:1,bgcolor:"secondary.main"},children:e.jsx(E,{})}),e.jsx(c,{component:"h1",variant:"h5",children:"Sign up"}),e.jsxs(x,{component:"form",Validate:!0,onSubmit:S,sx:{mt:3},children:[e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(n,{autoComplete:"given-name",name:"firstName",value:l,required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:s=>f(s.target.value)})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(n,{required:!0,fullWidth:!0,value:d,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"family-name",onChange:s=>g(s.target.value)})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(n,{required:!0,fullWidth:!0,value:p,id:"email",label:"Email Address",type:"email",name:"email",autoComplete:"email",onChange:s=>j(s.target.value)})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(n,{required:!0,fullWidth:!0,value:m,name:"password",label:"Password",type:"password",id:"password",inputProps:{minLength:8},autoComplete:"new-password",onChange:s=>v(s.target.value)})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(n,{required:!0,fullWidth:!0,value:u,name:"passwordConfirm",label:"passwordConfirm",type:"Password",id:"passwordConfirm",inputProps:{minLength:8},onChange:s=>b(s.target.value)})})]}),e.jsx(R,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),e.jsx(a,{container:!0,justifyContent:"flex-end",children:e.jsx(a,{item:!0,children:e.jsxs($,{variant:"body2",direction:"row",color:L.main,children:[e.jsx(c,{children:"Already have an account?"}),e.jsx(h,{component:T,sx:{textDecoration:"none"},children:"Sign in"})]})})})]})]}),e.jsx(G,{sx:{mt:5}})]})}export{K as default};
