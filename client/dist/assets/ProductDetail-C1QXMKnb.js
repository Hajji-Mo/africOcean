import{r as N,j as t,a3 as C,ap as S,an as E,au as B,av as O}from"./index-BecxuPHX.js";import{k as u,b as $,N as _}from"./Navbar-DMcgbOTx.js";import{d as L,c as W}from"./productsApiSlice-V6uyza-I.js";import"./index-1HjZlvs3.js";import{C as I}from"./Container-BI6cDI78.js";import{e as r,a9 as i,P as k,Z as P}from"./Select-CpW882tW.js";import{A as M,G as Q}from"./Grid-BbNo9N1U.js";import{C as T,b as A,P as R}from"./ProductCard-akApnw9m.js";import"./index.esm-D_2Zrckx.js";import"./index.esm-D7Jwn7Xu.js";import"./languege-BIy57awa.js";import"./IconButton-BXRtAdpl.js";const v="afrotrade",f="eu-north-1";function U({subcategory:e,name:a,description:j,price:s,country:w,city:d,summary:o,coverImage:c,images:g,id:b}){const n="en",[y,z]=N.useState(c),[l,G]=N.useState({visible:!1,color:"",message:""});function D(){addToCart(b),G({...l,visible:!0,color:"success",message:"The product is successfully added into your Cart"}),setTimeout(()=>{G({...l,visible:!1})},3e3)}return t.jsxs(I,{children:[t.jsx(C,{mt:3,children:t.jsxs(r,{variant:"h5",component:"h5",sx:{textTransform:"capitalize"},children:[e&&e," | ",a&&a," "]})}),l.visible&&t.jsx(M,{variant:"filled",severity:l.color,sx:{position:"absolute"},children:l.message}),t.jsxs(i,{sx:{mt:3,display:"block","@media screen and (min-width: 768px)":{display:"flex",flexDirection:"row",justifyContent:"center"}},children:[t.jsxs(C,{children:[t.jsx(T,{sx:{width:"100%","@media screen and (min-width: 768px)":{height:"70vh"}},children:t.jsx(A,{component:"img",image:`https://${v}.s3.${f}.amazonaws.com/${y}`,alt:"green iguana",sx:{width:"100%",height:"100%",transition:"width .4s","&:hover":{width:"103%"}}})}),t.jsx(i,{direction:"row",sx:{overflowX:"auto"},children:g.map((m,h)=>t.jsx(J,{image:m,setCoverImg:z},h))})]}),t.jsxs(k,{sx:{px:3,pt:5,border:".5px solid rgba(0, 0, 0, 0.1)","@media screen and (max-width: 768px)":{mt:3}},elevation:0,children:[t.jsx(i,{children:t.jsxs(r,{variant:"h5",fontWeight:"bold",children:["$",s]})}),o&&o.split(/\s+(?=\w+:)/).map((m,h)=>t.jsxs(r,{children:[m.split(/(?=:)/).map((x,p)=>p===0?t.jsx("b",{children:x},p):x)," "]},h)),t.jsxs(C,{children:[t.jsxs(r,{variant:"h5",children:[u.location[n],":"]}),t.jsxs(i,{direction:"row",children:[w&&t.jsxs(r,{variant:"h6",children:[u.country[n],":"," ",t.jsx(r,{component:"span",children:w})]}),d&&t.jsxs(r,{variant:"h6",sx:{pl:"1.3rem"},children:[u.city[n],":"," ",t.jsx(r,{component:"span",children:d})]})]})]}),t.jsxs(i,{direction:"row",children:[t.jsx(P,{variant:"contained",className:"buttonGroups btnConained",onClick:D,children:$.addtocart[n]}),t.jsx(S,{to:`https://wa.me/260773416630?text=i'm intrested to buy ${a} https://${v}.s3.${f}.amazonaws.com/${y}`,style:{textDecoration:"none"},children:t.jsx(P,{variant:"outlined",className:"buttonGroups btnOutlined",children:$.order[n]})}),t.jsx(S,{to:`https://wa.me/260773416630?text=i'm intrested to by${a} https://${v}.s3.${f}.amazonaws.com/${y}`,style:{textDecoration:"none"},children:t.jsx(P,{variant:"contained",className:"buttonGroups btnConained",children:$.chat[n]})})]})]})]}),t.jsxs(k,{sx:{mt:3,py:2,pl:1},elevation:0,children:[t.jsx(r,{sx:{pb:2},variant:"h4",children:u.atributes[n]}),j&&j.split(/\s+(?=\w+:)/).map((m,h)=>t.jsxs(r,{children:[m.split(/(?=:)/).map((x,p)=>p===0?t.jsx("b",{children:x},p):x)," "]},h))]})]})}function J({image:e,setCoverImg:a}){return t.jsx(i,{mt:"1rem",sx:{"&:not(:first-Child)":{marginLeft:".5rem"}},children:t.jsx(T,{sx:{width:"5rem",height:"5rem",transition:"width .4s","&:hover":{border:"1px solid #000"}},onClick:()=>a(e),children:t.jsx(A,{component:"img",image:`https://${v}.s3.${f}.amazonaws.com/${e}`,alt:"green iguana",sx:{width:"100%",height:"100%",transition:"width .4s","&:hover":{width:"95 %"}}})})})}function at(){const e=JSON.parse(localStorage.getItem("lang"));E(B);const{id:a}=O(),j={id:a,lang:e},{data:s,isLoading:w}=L(j),{data:d}=W(e);let o;return d&&s&&(o=d.doc.filter(c=>{var g,b;return((g=c[e])==null?void 0:g.subcategory)===((b=s.doc[e])==null?void 0:b.subcategory)})),t.jsxs(i,{children:[t.jsx(_,{}),s&&t.jsx(U,{subcategory:s.doc[e].subcategory,name:s.doc.name,price:s.doc.price,coverImage:s.doc.coverImg,description:s.doc[e].description,summary:s.doc[e].summary,images:s.doc.images}),t.jsx(I,{children:t.jsxs(i,{sx:{marginTop:"2rem"},children:[e&&t.jsx(r,{variant:"h5",fontWeight:"bold",sx:{paddingBottom:"0.7rem"},children:u.recomendation[e]}),t.jsx(Q,{container:!0,spacing:1,children:o&&o.map(c=>t.jsx(R,{product:c,lang:e},c._id))})]})})]})}export{at as default};
