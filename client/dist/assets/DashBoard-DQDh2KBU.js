import{j as e,an as W,ao as k,r as y,a2 as j}from"./index-DgO6vlfX.js";import{a6 as S,e as g,R as B,J as _,V as f}from"./Select-BYQ1deYu.js";import{G as a}from"./Grid-CFMLG5dM.js";import{T as n}from"./TextField-CfUMEs04.js";import{M as C}from"./MenuItem-61cYet1S.js";import{b as P,c as q}from"./productsApiSlice-CCzgdvJe.js";import{C as D}from"./Container-ByC6-tBZ.js";import{L as M}from"./ListItem-CDYBOBUq.js";const v=[{title:"food & Beverage",subcatagory:["Drinks","BuscuitsAndbread","Gum","Suger","flour","rice"]},{title:"vehicles & Transportation",subcatagory:["new Trucks","used Trucks","new Cars","used Car"," new MotorBikes","used MotorBikes","new Bikes","used Bikes"]},{title:"vihicle accessories",subcatagory:["gps tracker","car seats","tires","car Bumpers","engine parts"]},{title:"electronics",subcatagory:["headSets","Mobile Phones","laptops","Tv Screen"]},{title:"home & Furnitures",subcatagory:["sofas","tables","Chairs","Beds","mattresses","wardrobes","Chairs","cookware sets","mugs"]},{title:"agriculture",subcatagory:["chicken","eggs","maize","Onions","tomaotes","garlic"]},{title:"Fashion & Beuty",subcatagory:["Man shoes","women Shoes","man clothes","woman clothes","bags","luggage","cases","kidds clothes","beauty","jewelry","watches","glasses","berfumes"]},{title:"RealState",subcatagory:["buy land","rent land","buy house","rent house"]},{title:"construction material",subcatagory:["steals","tiles","roofs","woods","doors","windows"]}];function E({langData:u,lang:r,handleChange:c}){const h=v.find(s=>s.title===u.category),b=u.category==="",x=r==="en"?"fill by English":"fill by France";return e.jsxs(S,{children:[e.jsx(g,{sx:{pb:"2rem",pt:"2rem",textAlign:"center"},children:x}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,sm:6,lg:4,children:e.jsx(n,{autoComplete:"given-name",name:`${r}_name`,required:!0,fullWidth:!0,id:`${r}_name`,label:`${r} name`,autoFocus:!0,value:u.name,onChange:s=>c(r,"name",s.target.value)})}),e.jsx(a,{item:!0,xs:12,sm:6,lg:3,children:e.jsx(n,{required:!0,fullWidth:!0,select:!0,id:`${r}_Category`,label:`${r} Category`,name:`${r}_Category`,value:u.category,autoComplete:"Category",onChange:s=>c(r,"category",s.target.value),children:v&&v.map((s,m)=>e.jsx(C,{value:s.title,children:s.title},m))})}),e.jsx(a,{item:!0,xs:12,sm:6,lg:3,children:e.jsx(n,{required:!0,fullWidth:!0,select:!0,value:u.subcatagory,name:`${r}_SubCategory`,label:`${r} SubCategory`,id:`${r}_SubCategory`,autoComplete:"SubCategory",disabled:b,onChange:s=>c(r,"subcategory",s.target.value),children:h&&h.subcatagory.map((s,m)=>e.jsx(C,{value:s,children:s},m))})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(n,{required:!0,fullWidth:!0,type:"text",name:`${r}_Description`,label:`${r} Description`,autoComplete:`${r}_Description`,multiline:!0,value:u.description,onChange:s=>c(r,"description",s.target.value)})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(n,{required:!0,fullWidth:!0,multiline:!0,name:`${r}_summary`,label:`${r} Summary`,id:`${r}_summary`,autoComplete:`${r}_summary`,value:u.summary,onChange:s=>c(r,"summary",s.target.value)})})]})]})}const Q=()=>{const[u]=P(),[r]=q(),c=W(k),[h,b]=y.useState(""),[x,s]=y.useState([]),[m,I]=y.useState("en"),[i,w]=y.useState({en:{name:"",description:"",category:"",subcategory:"",summary:""},minQuantity:"",price:"",priceDiscount:"",coverImg:null,images:[],brand:"",tags:[],rank:"",country:"",creator:"",city:""}),T=(t,o,l)=>{w(p=>({...p,[t]:{...p[t],[o]:l}}))},d=(t,o)=>{w(l=>({...l,[t]:o}))},$=async t=>{t.preventDefault();const o=new FormData;if(!x>0)throw Error("not selected any image");x.forEach(l=>{o.append("images",l)}),o.append("coverImg",h),c&&(i.creator=c._id);try{const l=await r(o);console.log(l);const{coverImg:p,images:F}=l.data;i.coverImg=p,i.images=F,console.log(i),await u(i)}catch(l){throw console.log(l),Error(l)}};return e.jsxs(D,{sx:{marginTop:"2.5rem"},children:[e.jsx(g,{variant:"h4",children:"Create Product"}),e.jsxs(S,{component:"form",sx:{mt:1,mr:1,minWidth:90},size:"small",direction:"row",children:[e.jsx(g,{variant:"h6",children:"Select languege:"}),e.jsx(B,{labelId:"demo-select-small-label",id:"demo-select-small",value:m,variant:"standard",label:"lang",disableUnderline:!0,sx:{ml:".5rem"},onChange:t=>I(t.target.value),children:e.jsx(C,{value:"en",children:e.jsx("em",{children:"English"})})})]}),e.jsxs(j,{component:"form",Validate:!0,onSubmit:$,sx:{mt:3},children:[e.jsx(E,{langData:i[m],lang:m,handleChange:T}),e.jsx(g,{sx:{pb:"2rem",pt:"2rem",textAlign:"center"},children:"Common Fields"}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:6,sm:4,lg:4,children:e.jsx(n,{autoComplete:"brand",name:"brand",required:!0,fullWidth:!0,id:"brand",label:"Brand",value:i.brand,onChange:t=>d("brand",t.target.value)})}),e.jsx(a,{item:!0,xs:6,sm:4,lg:4,children:e.jsx(n,{autoComplete:"minQuantity",name:"minQuantity",fullWidth:!0,id:"minQuantity",label:"min-Quantity",type:"number",value:i.minQuantity,onChange:t=>d("minQuantity",t.target.value)})}),e.jsx(a,{item:!0,xs:6,sm:4,lg:4,children:e.jsx(n,{autoComplete:"price",name:"price",type:"number",required:!0,fullWidth:!0,id:"price",label:"Price",value:i.price,onChange:t=>d("price",t.target.value)})}),e.jsx(a,{item:!0,xs:6,sm:4,lg:4,children:e.jsx(n,{autoComplete:"Price-Discount",name:"PriceDiscount",fullWidth:!0,type:"number",id:"Price-Discount",label:"Price Discount",value:i.priceDiscount,onChange:t=>d("priceDiscount",t.target.value)})}),e.jsx(a,{item:!0,xs:6,sm:4,lg:4,children:e.jsx(n,{autoComplete:"country",name:"country",required:!0,fullWidth:!0,id:"country",label:"Country",value:i.country,onChange:t=>d("country",t.target.value)})}),e.jsx(a,{item:!0,xs:6,sm:4,lg:4,children:e.jsx(n,{autoComplete:"city",name:"city",required:!0,fullWidth:!0,id:"city",label:"City",value:i.city,onChange:t=>d("city",t.target.value)})}),e.jsx(a,{item:!0,xs:12,sm:4,lg:4,children:e.jsx(n,{autoComplete:"Tags",name:"Tags",required:!0,fullWidth:!0,id:"Tags",label:"Tags",multiline:!0,value:i.tags,onChange:t=>d("tags",t.target.value)})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsxs(j,{p:".7rem",borderRadius:"3px",textAlign:"center",border:"1px solid rgba(0,0,0,0.3)",children:[e.jsx(_,{type:"file",accept:"image/*",name:"",onChange:t=>b(t.target.files[0]),style:{display:"none"},id:"file-input"}),e.jsx("label",{htmlFor:"file-input",children:e.jsx(f,{variant:"outlined",component:"span",sx:{textTransform:"capitalize"},children:"Select Cover Img"})}),h&&e.jsxs("div",{children:[e.jsx(g,{variant:"subtitle1",mt:2,textTransform:"capitalize",children:"Selected CoverImg:"}),e.jsx(M,{sx:{pl:5},children:h.name})]})]})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsxs(j,{p:".7rem",borderRadius:"3px",textAlign:"center",border:"1px solid rgba(0,0,0,0.3)",children:[e.jsx("input",{type:"file",accept:"image/*",name:"",multiple:!0,onChange:t=>{const o=Array.from(t.target.files);!o.length>0||s(o)},style:{display:"none"},id:"multiple-file-input"}),e.jsx("label",{htmlFor:"multiple-file-input",children:e.jsx(f,{variant:"outlined",component:"span",sx:{textTransform:"capitalize"},children:"Select Images"})}),x.length>0&&e.jsxs("div",{children:[e.jsx(g,{variant:"subtitle1",mt:2,textTransform:"capitalize",children:"Selected Images:"}),e.jsx("ul",{children:x.map(t=>e.jsx("li",{children:t.name},t.name))})]})]})}),e.jsx(f,{type:"submit",fullWidth:!0,variant:"contained",sx:{my:3,mb:2},children:"Upload"})]})]})]})};function O(){return e.jsx(S,{children:e.jsx(Q,{})})}export{O as default};
